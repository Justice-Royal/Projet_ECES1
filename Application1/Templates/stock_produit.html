{% extends 'herite_page.html'%} 
{% block corps_page %}
<br></br>

<div class = "container">
  <h1 class= "text-center">Article en Stock</h1>
  <br>

  <div class = "container">
    <form action = "" method = "GET">
      {{product_filters.form}} 
      <input 
      type = "submit"
      value = "Search Products"
      class="btn btn-secondary btn"/>
    </form>
  </div>
  {% for product in products %}
    <div class="product {% if product.is_low_quantity %}low-quantity{% endif %}">
        <!-- Afficher les détails du produit -->
    </div>
{% endfor %}


  <br>
  <table class="table">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Categorie</th>
        <th scope="col">Nom de l'article</th>
        <th scope="col">Quantité</th>
        <th scope="col">prix_unitaire(₦)</th>
        <th scope = "col">Detail</th>
        <th scope = "col">Action</th>
      </tr>
    </thead>
    {% for product in products%}
    <tbody>
      <tr>    
        <td>{{product.nom_categorie}}</td>
        <td>{{product.nom_article}}</td>
        <td>{{product.quantite_total}}</td>
        <td>₦{{product.prix_unitaire}}</td>
        <td><a href="{% url 'Produit' product.id %}"
              ><input
                type="submit"
                value="BUY ITEM"
                class="btn btn-secondary btn"
                type="button"
            /></a></td>
            <td><a href="{% url 'modifier' product.pk %}"class='btn btn-warning'><i class=" fas fa-edit"></i></a></td>
            <td><a href="{% url 'supprimer_produit' product.id %}" class="btn btn-danger"><i class=" fas fa-trash"></i></a></td>

            
      </tr>
    </tbody>
    {% endfor %}
  </table>
</div>
<style>
  /* Styles pour la page */
  .container {
    text-align: center;
    color: #333;
    background-color: #f8f8f8;
    padding: 20px;
  }

  h1 {
    font-size: 32px;
    margin-bottom: 20px;
  }

  .container form {
    margin-bottom: 20px;
  }

  table {
    width: 100%;
    font-size: 18px; /* Ajuster la taille de police */
    background-color: #fff; /* Changer la couleur de fond du tableau */
  }

  th,
  td {
    padding: 10px;
  }

  .btn-secondary {
    background-color: #25a8ff;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    text-decoration: none;
  }

  .btn-secondary:hover {
    background-color: #007bff;
  }
  .low-quantity {
    color: red;
    /* Autres styles CSS pour indiquer le changement */
}

</style>

<script>
  // JavaScript pour l'animation
  window.addEventListener('load', function() {
    var tableRows = document.querySelectorAll('tbody tr');
    tableRows.forEach(function(row, index) {
      row.style.animationDelay = index * 0.1 + 's';
      row.classList.add('fade-in');
    });
  });
</script>
{% endblock%}
